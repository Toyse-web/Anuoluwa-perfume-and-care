<%- include("partials/header") %>

<div class="checkout-container">

    <!-- Left Checkout Form -->
    <div class="checkout-form">
        <h2>Checkout</h2>
        <form action="/checkout" method="POST">

            <!-- Customer Info -->
             <h3>Customer Information</h3>
            <input type="text" name="fullName" placeholder="Full Name" required>
            <input type="email" name="email" placeholder="Email Address" required>
            <input type="tel" name="phone" placeholder="Phone Number" required>

             <input type="text" name="address" placeholder="Street Address" required>
             <input type="text" name="city" placeholder="City" required>
             <input type="text" name="state" placeholder="State / Region" required>
             <input type="text" name="postalCode" placeholder="Postal Code" required>

             <!-- Payment -->
              <h3>Payment Method</h3>
              <label><input type="radio" name="paymentMethod" value="cod" checked>Cash on Delivery</label>
              <label><input type="radio" name="paymentMethod" value="card" disabled> Card Payment (coming soon)</label>

              <button type="submit" class="btn">Place Order</button>
        </form>
    </div>

    <!-- Right: Order Summary -->
     <div class="order-summary">
        <h3>Order Summary</h3>
        <ul>
            <% let subtotal = 0; %>
            <% cart.forEach(item => { %>
            <%
                const price = Number(item.price) || 0;
                const qty = Number(item.quantity) || 0;
                const itemTotal = price * qty;
                subtotal += itemTotal;
            %>
                <li>
                    <%= item.name %> (x<%= qty %>) -₦<%= itemTotal.toFixed(2) %>
                </li>
            <% }) %>
        </ul>
        <hr>
        <p>Subtotal: ₦<%= subtotal.toFixed(2) %></p>
        <p>Shipping: ₦1000</p>
        <h4>Grand Total: ₦<%= (subtotal + 1000).toFixed(2) %></h4>
     </div>
</div>

<%- include("partials/footer") %>